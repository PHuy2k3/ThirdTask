{"ast":null,"code":"export async function http(base, path, init) {\n  const url = `${base}${path}`.replace(/([^:])\\/\\/+/, \"$1/\");\n  const res = await fetch(url, {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    ...init\n  });\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(text || res.statusText);\n  }\n  return res.json();\n}\nexport function buildQuery(obj) {\n  const p = new URLSearchParams();\n  Object.entries(obj).forEach(([k, v]) => {\n    if (v === undefined || v === null || v === \"\") return;\n    p.set(k, String(v));\n  });\n  const s = p.toString();\n  return s ? `?${s}` : \"\";\n}\nexport async function testConnection(base) {\n  await http(base, \"/api/categories?page=1&size=1\");\n  return true;\n}","map":{"version":3,"names":["http","base","path","init","url","replace","res","fetch","headers","ok","text","Error","statusText","json","buildQuery","obj","p","URLSearchParams","Object","entries","forEach","k","v","undefined","set","String","s","toString","testConnection"],"sources":["D:/CMC_Task/third-task/fe/category/src/lib/api.js"],"sourcesContent":["export async function http(base, path, init) {\r\n    const url = `${base}${path}`.replace(/([^:])\\/\\/+/, \"$1/\");\r\n    const res = await fetch(url, {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    ...init,\r\n    });\r\n    if (!res.ok) {\r\n        const text = await res.text();\r\n        throw new Error(text || res.statusText);\r\n    }\r\n    return res.json();\r\n}\r\n\r\nexport function buildQuery(obj) {\r\n    const p = new URLSearchParams();\r\n    Object.entries(obj).forEach(([k, v]) => {\r\n        if (v === undefined || v === null || v === \"\") return;\r\n        p.set(k, String(v));\r\n    });\r\n    const s = p.toString();\r\n    return s ? `?${s}` : \"\";\r\n}\r\n\r\n\r\nexport async function testConnection(base) {\r\n    await http(base, \"/api/categories?page=1&size=1\");\r\n    return true;\r\n}"],"mappings":"AAAA,OAAO,eAAeA,IAAIA,CAACC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAE;EACzC,MAAMC,GAAG,GAAG,GAAGH,IAAI,GAAGC,IAAI,EAAE,CAACG,OAAO,CAAC,aAAa,EAAE,KAAK,CAAC;EAC1D,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACH,GAAG,EAAE;IAC7BI,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/C,GAAGL;EACH,CAAC,CAAC;EACF,IAAI,CAACG,GAAG,CAACG,EAAE,EAAE;IACT,MAAMC,IAAI,GAAG,MAAMJ,GAAG,CAACI,IAAI,CAAC,CAAC;IAC7B,MAAM,IAAIC,KAAK,CAACD,IAAI,IAAIJ,GAAG,CAACM,UAAU,CAAC;EAC3C;EACA,OAAON,GAAG,CAACO,IAAI,CAAC,CAAC;AACrB;AAEA,OAAO,SAASC,UAAUA,CAACC,GAAG,EAAE;EAC5B,MAAMC,CAAC,GAAG,IAAIC,eAAe,CAAC,CAAC;EAC/BC,MAAM,CAACC,OAAO,CAACJ,GAAG,CAAC,CAACK,OAAO,CAAC,CAAC,CAACC,CAAC,EAAEC,CAAC,CAAC,KAAK;IACpC,IAAIA,CAAC,KAAKC,SAAS,IAAID,CAAC,KAAK,IAAI,IAAIA,CAAC,KAAK,EAAE,EAAE;IAC/CN,CAAC,CAACQ,GAAG,CAACH,CAAC,EAAEI,MAAM,CAACH,CAAC,CAAC,CAAC;EACvB,CAAC,CAAC;EACF,MAAMI,CAAC,GAAGV,CAAC,CAACW,QAAQ,CAAC,CAAC;EACtB,OAAOD,CAAC,GAAG,IAAIA,CAAC,EAAE,GAAG,EAAE;AAC3B;AAGA,OAAO,eAAeE,cAAcA,CAAC3B,IAAI,EAAE;EACvC,MAAMD,IAAI,CAACC,IAAI,EAAE,+BAA+B,CAAC;EACjD,OAAO,IAAI;AACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}